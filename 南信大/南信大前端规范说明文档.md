# 修订记录

|    日期    | 修订版本 | 修改描述 |  作者  |
| :--------: | :------: | :------: | :----: |
| 2022/03/01 |  1.0.0   |   初稿   | 王乐翔 |
|            |          |          |        |
|            |          |          |        |
|            |          |          |        |



# SVN前端库

**目录结构，建立在SVN根目录下。**

> 前端公用库
>
> > 公用组件库
> >
> > > 搜索类组件
> > >
> > > > 搜索-组件名
> > > >
> > > > > .vue文件代码（xxx.vue 1.0.0）
> > > > >
> > > > > .vue文件代码（xxx.vue 1.0.1）
> > > > >
> > > > > .md组件设计文档
> > > > >
> > > > > .md组件项目使用记录
> > >
> > > xxx类组件
> >
> > 公用方法库
> >
> > > .md文档（版本记录、代码、组件项目使用记录）
> >
> > 公用样式库
> >
> > > .md文档（版本记录、代码、组件项目使用记录）
> >
> > 公用图标库
> >
> > > 表单类
> > >
> > > > eye_open_48*48.png
> > > >
> > > > eye_open_@2x.png
> > > >
> > > > eye_open_@4x.png
> > > >
> > > > eye_close_24*24.png
> > > >
> > > > ......
> > >
> > > xxx类
> >
> > 前端规范说明文档
> >
> > > .md说明文档



# SVN公司框架目录

**目录结构，建立在SVN根目录下。**

> 公司框架
>
> > 前端
> >
> > > PC端
> > >
> > > > 框架代码文件夹
> > > > .md说明文档
> > >
> > > 移动端
> > >
> > > > 框架代码文件夹
> > > >
> > > > .md说明文档



# 前端基础代码规范

## HTML类

### class命名

类名多单词用“-”分割，嵌套尽量不要超过四级。

```vue
  <div class="box-other">
    <div class="box-other-item">
      <div class="box-other-item-icon">
        <img src="@/assets/img/icons/xxx@2x.png" alt="">
      </div>
      <div class="box-other-item-title">title</div>
    </div>
  </div>
```



### HTML注释

多模块之间使用空格区分并使用注释说明，采用两种注释方式，根据内容选择。

```vue
  <div class="content">

    <!-- 主体头部 -->
    <div class="content-head"></div>

    <!-- 主体内容区域 start>
    <div class="content-warp">
      <!--主体内标题 -->
      <div class="content-warp-head">
        <span class="content-warp-head-desc"></span>
      </div>
      <!--主体内正文 -->
      <div class="content-warp-content">....</div>
    </div>
    <!--主体内容区域 end>

  </div>
```



### HTML单标签

如果双标签之间不需要写参数则尽量使用单标签，减少代码冗余。

```vue
<i class="trangle">...</i>
<i class="trangle" />
```



## 命名类

### CSS文件命名

全部采用小写方式， 优先选择单个单词命名，多个单词命名以短横线分隔。

> normalize.css
>
> base.css
>
> date-picker.scss
>
> input-number.scss



### 图像文件命名

采用下划线区分（UI如果命名应保持同等规范）

> img
>
> > public
> >
> > > banner-sina.gif
> > >
> > > menu-aboutus.gif
> > >
> > >  pic-TV.jpg
> >
> > user
> >
> > > user-icon.jpg



### 变量、函数命名

必须采用驼峰语义化命名方式

**变量**

data中使用块级标签区分，增加可读性，但必须一行显示。

```js
  data () {
    return {
      /* 按钮相关 */
      showBtn: false,
      btnLevel: 1,
      btnStatus: null, // 这里可以加单个命名注释

      /* 地图相关 */
      showMap_gaoDe: false, // 复杂命名使用下划线分割
      showMap_baiDu: false
    }
  }
```

**函数**

每一个函数前写出相应的注释

```js
    // 得到banner列表
    getBannerList(){

    },
    // 提交用户信息
    commitUserInfo(){

    },
    // 清除表单
    clearForm(){

    }
```



## JS代码类

### JS语句末尾分号

除极少数特定情况下必须写分号，不写分号JS执行时会自动添加，再写分号毫无意义。

**特定情况如下**

++、--后缀表达式作为新行的开始，在行首自动插入分号

```js
var a = 1
var b = 2
a
++
b
// 解析成了
var a = 1
var b = 2
a;
++b;
```

如果你本身就想写`++b`那还好点，但是如果你的本意是`a++`呢。结果却是b自增了。这也是为什么很多的代码规则里不建议你用`++`,`--`，而是用 `+=1`,`-=1`。

> 通俗来讲，如果一条语句以 "(" ,"[" , "/" , "+" , "-" 开始，它们极有可能和前面一条语句一起解析。



### 引号规范

根据大众习惯，HTML里统一使用双引号，需要嵌套时除外，JS里统一使用单引号。

> 注意：HTML使用变量嵌套除外。



## Vue类

### 书写顺序

应该严格按照声明周期来书写，因为代码是按照声明周期来执行的。

**此规范顺序中嵌入了`name`、`watch`**

> name
>
> beforeCreated
>
> created
>
> beforeMount
>
> mounted
>
> watch
>
> beforeUpdate
>
> update
>
> activated
>
> deactivated
>
> beforeUnmount
>
> unmounted
>
> errorCaptured
>
> renderTracked
>
> renderTriggered
>
> beforeDestory
>
> destoryed



### 组件、api文件的模版注释

```js
/**
 * @description 3840公用面板
 * @param {String} xxx
 * @author 王乐翔
 * @createDate 2022/02/23
 * @lastEditDate 2022/03/01
 * @lastEditAuthor 王乐翔
 * @returns
 */
```



## 组件开发规范

### 说明

**components目录结构**

> public（存放公共组件）
>
> content（放项目组件）
>
> > Search
> >
> > > index.vue
> > >
> > > Xxx.vue



**公共组件与项目组件的区别介绍：**

components组件目录下存放公共组件（public目录）与项目组件（content目录），公共组件的定义是可以在任意项目中使用，项目组件的定义是只能在本项目或者指定几种项目中才能使用。



### 开发规范

书写顺序也应该按照Vue声明周期来写，在props中监听父组件传递来的值与设置默认值。因为要保证组件可以在其他项目独立运行保证不报错（如未拿到接口数据），所以需要一个默认值。

```js
  props: {
    // 数据列表
    list: {
      type: Array,
      default: [
        { title: 'xxx', name: 'xxx' }
      ]
    }
  }
```

> 如果组件中需要定义变量，应该写在data里。如this.key中，会优先去data中寻找key，data中没有会去props中寻找。



> 注意
>
> > 组件内独立使用的变量如果写在props里，那么后期修改value可能会报错。
> >
> > 为了方便他人，每个props里写的变量名必须要写注释。
> >
> > `this.$emit`触发方法返回数据返回当前整个item对象。
> >
> > `this.$emit`方法名规范（语义化），如下标准：
> >
> > > 展示地图写showMap，传递地图JSON对象。
> > >
> > > 展示表格showTable，传递表格JSON对象。
> > >
> > > 展示弹窗showPop，传递弹窗JSON对象。
> > >
> > > 展示弹窗showPop，传递弹窗JSON对象。
> > >
> > > 父组件使用时与this.$emit传递方法名命名一致，多个时使用showMap_gaode



### 关于公共组件开发的需求

公共组件要保证任意项目中使用，就需要更加灵活的配置。市面上常用的公共组件库有element、uView等等，其都做到了规范化大小或响应式大小或自定义大小。
因此，公用组件的大小及样式必须是动态的，但一定存在默认样式。通过父子传参的方式让CSS拿到JS变量即可。

1. 组件调用

```vue
<BoxOther boxWidth="540px" :dataList="otherList" />
```

2. 子组件拿到传递的值

```js
  props: {
    dataList: {
      type: Array,
      default: [
        { title: 'title' },
        { title: 'title' }
      ]
    },
    boxWidth: {
      type: String,
      default: '300px'
    },
    boxHeight: {
      type: String,
      default: '300px'
    },
    boxMargin: {
      type: String,
      default: '0 0 0 0'
    },
  }
```

3. HTML声明全局CSS变量

```vue
<div :style="[
  {'--boxWidth':boxWidth},
  {'--boxHeight':boxHeight},
  {'--boxMargin':boxMargin}
  ]" class="box-other">

...

</div>
```

4. CSS中使用全局CSS变量

```css
	box-sizing: border-box;
  margin: var(--boxMargin);
  width: var(--boxWidth);
  height: var(--boxHeight);
```

